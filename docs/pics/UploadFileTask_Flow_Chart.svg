<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.38.0 (20140413.2041)
 -->
<!-- Title: G Pages: 1 -->
<svg width="831pt" height="1063pt"
 viewBox="0.00 0.00 831.40 1063.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1059)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1059 827.396,-1059 827.396,4 -4,4"/>
<!-- createobj -->
<g id="node1" class="node"><title>createobj</title>
<ellipse fill="none" stroke="black" cx="443.396" cy="-1037" rx="49.2915" ry="18"/>
<text text-anchor="middle" x="443.396" y="-1033.3" font-family="SimHei" font-size="14.00">创建对象</text>
</g>
<!-- putpasv -->
<g id="node2" class="node"><title>putpasv</title>
<polygon fill="none" stroke="black" points="503.896,-968 382.896,-968 382.896,-932 503.896,-932 503.896,-968"/>
<text text-anchor="middle" x="443.396" y="-946.3" font-family="SimHei" font-size="14.00">切换到被动模式</text>
</g>
<!-- createobj&#45;&gt;putpasv -->
<g id="edge1" class="edge"><title>createobj&#45;&gt;putpasv</title>
<path fill="none" stroke="black" d="M443.396,-1018.8C443.396,-1007.16 443.396,-991.548 443.396,-978.237"/>
<polygon fill="black" stroke="black" points="446.896,-978.175 443.396,-968.175 439.896,-978.175 446.896,-978.175"/>
<text text-anchor="middle" x="488.396" y="-989.8" font-family="SimHei" font-size="14.00">调用 start()</text>
</g>
<!-- success1 -->
<g id="node3" class="node"><title>success1</title>
<polygon fill="none" stroke="black" points="443.396,-886.5 393.626,-868.5 443.396,-850.5 493.165,-868.5 443.396,-886.5"/>
<text text-anchor="middle" x="443.396" y="-864.8" font-family="SimHei" font-size="14.00">成功?</text>
</g>
<!-- putpasv&#45;&gt;success1 -->
<g id="edge2" class="edge"><title>putpasv&#45;&gt;success1</title>
<path fill="none" stroke="black" d="M443.396,-931.75C443.396,-921.54 443.396,-908.378 443.396,-896.788"/>
<polygon fill="black" stroke="black" points="446.896,-896.717 443.396,-886.717 439.896,-896.717 446.896,-896.717"/>
</g>
<!-- dataconnect -->
<g id="node6" class="node"><title>dataconnect</title>
<polygon fill="none" stroke="black" points="526.396,-791 360.396,-791 360.396,-755 526.396,-755 526.396,-791"/>
<text text-anchor="middle" x="443.396" y="-769.3" font-family="SimHei" font-size="14.00">与服务器建立数据连接</text>
</g>
<!-- success1&#45;&gt;dataconnect -->
<g id="edge3" class="edge"><title>success1&#45;&gt;dataconnect</title>
<path fill="none" stroke="black" d="M443.396,-850.351C443.396,-836.643 443.396,-817.169 443.396,-801.319"/>
<polygon fill="black" stroke="black" points="446.896,-801.041 443.396,-791.041 439.896,-801.041 446.896,-801.041"/>
<text text-anchor="middle" x="454.896" y="-812.8" font-family="SimHei" font-size="14.00">Yes</text>
</g>
<!-- putpasvfail -->
<g id="node4" class="node"><title>putpasvfail</title>
<polygon fill="none" stroke="black" points="351.896,-895 160.896,-895 160.896,-842 357.896,-842 357.896,-889 351.896,-895"/>
<polyline fill="none" stroke="black" points="351.896,-895 351.896,-889 "/>
<polyline fill="none" stroke="black" points="357.896,-889 351.896,-889 "/>
<text text-anchor="middle" x="259.396" y="-879.8" font-family="SimHei" font-size="14.00">发射信号</text>
<text text-anchor="middle" x="259.396" y="-864.8" font-family="SimHei" font-size="14.00">uploadFailed 或</text>
<text text-anchor="middle" x="259.396" y="-849.8" font-family="SimHei" font-size="14.00">uploadFailedWithMsg(msg)</text>
</g>
<!-- putpasvfail&#45;&gt;success1 -->
<g id="edge4" class="edge"><title>putpasvfail&#45;&gt;success1</title>
<path fill="none" stroke="black" d="M368.145,-868.5C376.953,-868.5 385.549,-868.5 393.595,-868.5"/>
<polygon fill="black" stroke="black" points="368.129,-865 358.129,-868.5 368.129,-872 368.129,-865"/>
<text text-anchor="middle" x="375.828" y="-875.3" font-family="SimHei" font-size="14.00">No</text>
</g>
<!-- fail1 -->
<g id="node5" class="node"><title>fail1</title>
<ellipse fill="none" stroke="black" cx="76.3956" cy="-868.5" rx="49.2915" ry="18"/>
<text text-anchor="middle" x="76.3956" y="-864.8" font-family="SimHei" font-size="14.00">任务失败</text>
</g>
<!-- fail1&#45;&gt;putpasvfail -->
<g id="edge5" class="edge"><title>fail1&#45;&gt;putpasvfail</title>
<path fill="none" stroke="black" d="M136.088,-868.5C144.295,-868.5 152.502,-868.5 160.709,-868.5"/>
<polygon fill="black" stroke="black" points="136.077,-865 126.077,-868.5 136.077,-872 136.077,-865"/>
</g>
<!-- success2 -->
<g id="node7" class="node"><title>success2</title>
<polygon fill="none" stroke="black" points="443.396,-717 393.626,-699 443.396,-681 493.165,-699 443.396,-717"/>
<text text-anchor="middle" x="443.396" y="-695.3" font-family="SimHei" font-size="14.00">成功?</text>
</g>
<!-- dataconnect&#45;&gt;success2 -->
<g id="edge6" class="edge"><title>dataconnect&#45;&gt;success2</title>
<path fill="none" stroke="black" d="M443.396,-754.937C443.396,-746.807 443.396,-736.876 443.396,-727.705"/>
<polygon fill="black" stroke="black" points="446.896,-727.441 443.396,-717.441 439.896,-727.441 446.896,-727.441"/>
</g>
<!-- sendstor -->
<g id="node10" class="node"><title>sendstor</title>
<polygon fill="none" stroke="black" points="511.396,-629 375.396,-629 375.396,-593 511.396,-593 511.396,-629"/>
<text text-anchor="middle" x="443.396" y="-607.3" font-family="SimHei" font-size="14.00">发 STOR 请求上传</text>
</g>
<!-- success2&#45;&gt;sendstor -->
<g id="edge7" class="edge"><title>success2&#45;&gt;sendstor</title>
<path fill="none" stroke="black" d="M443.396,-680.597C443.396,-668.746 443.396,-652.817 443.396,-639.292"/>
<polygon fill="black" stroke="black" points="446.896,-639.084 443.396,-629.084 439.896,-639.084 446.896,-639.084"/>
<text text-anchor="middle" x="454.896" y="-650.8" font-family="SimHei" font-size="14.00">Yes</text>
</g>
<!-- connectfail -->
<g id="node8" class="node"><title>connectfail</title>
<polygon fill="none" stroke="black" points="351.896,-718 250.896,-718 250.896,-680 357.896,-680 357.896,-712 351.896,-718"/>
<polyline fill="none" stroke="black" points="351.896,-718 351.896,-712 "/>
<polyline fill="none" stroke="black" points="357.896,-712 351.896,-712 "/>
<text text-anchor="middle" x="304.396" y="-702.8" font-family="SimHei" font-size="14.00">发射信号</text>
<text text-anchor="middle" x="304.396" y="-687.8" font-family="SimHei" font-size="14.00">uploadFailed</text>
</g>
<!-- connectfail&#45;&gt;success2 -->
<g id="edge9" class="edge"><title>connectfail&#45;&gt;success2</title>
<path fill="none" stroke="black" d="M368.328,-699C376.756,-699 385.293,-699 393.44,-699"/>
<polygon fill="black" stroke="black" points="368.137,-695.5 358.137,-699 368.137,-702.5 368.137,-695.5"/>
<text text-anchor="middle" x="375.828" y="-705.8" font-family="SimHei" font-size="14.00">No</text>
</g>
<!-- fail2 -->
<g id="node9" class="node"><title>fail2</title>
<ellipse fill="none" stroke="black" cx="166.396" cy="-699" rx="49.2915" ry="18"/>
<text text-anchor="middle" x="166.396" y="-695.3" font-family="SimHei" font-size="14.00">任务失败</text>
</g>
<!-- fail2&#45;&gt;connectfail -->
<g id="edge8" class="edge"><title>fail2&#45;&gt;connectfail</title>
<path fill="none" stroke="black" d="M226.072,-699C234.337,-699 242.603,-699 250.868,-699"/>
<polygon fill="black" stroke="black" points="225.989,-695.5 215.989,-699 225.989,-702.5 225.989,-695.5"/>
</g>
<!-- success3 -->
<g id="node11" class="node"><title>success3</title>
<polygon fill="none" stroke="black" points="443.396,-547.5 365.977,-529.5 443.396,-511.5 520.815,-529.5 443.396,-547.5"/>
<text text-anchor="middle" x="443.396" y="-525.8" font-family="SimHei" font-size="14.00">同意上传?</text>
</g>
<!-- sendstor&#45;&gt;success3 -->
<g id="edge10" class="edge"><title>sendstor&#45;&gt;success3</title>
<path fill="none" stroke="black" d="M443.396,-592.75C443.396,-582.54 443.396,-569.378 443.396,-557.788"/>
<polygon fill="black" stroke="black" points="446.896,-557.717 443.396,-547.717 439.896,-557.717 446.896,-557.717"/>
</g>
<!-- startsignal -->
<g id="node14" class="node"><title>startsignal</title>
<polygon fill="none" stroke="black" points="494.396,-452 386.396,-452 386.396,-414 500.396,-414 500.396,-446 494.396,-452"/>
<polyline fill="none" stroke="black" points="494.396,-452 494.396,-446 "/>
<polyline fill="none" stroke="black" points="500.396,-446 494.396,-446 "/>
<text text-anchor="middle" x="443.396" y="-436.8" font-family="SimHei" font-size="14.00">发射信号</text>
<text text-anchor="middle" x="443.396" y="-421.8" font-family="SimHei" font-size="14.00">uploadStarted</text>
</g>
<!-- success3&#45;&gt;startsignal -->
<g id="edge11" class="edge"><title>success3&#45;&gt;startsignal</title>
<path fill="none" stroke="black" d="M443.396,-511.167C443.396,-497.573 443.396,-478.367 443.396,-462.516"/>
<polygon fill="black" stroke="black" points="446.896,-462.189 443.396,-452.189 439.896,-462.189 446.896,-462.189"/>
<text text-anchor="middle" x="454.896" y="-473.8" font-family="SimHei" font-size="14.00">Yes</text>
</g>
<!-- storfail -->
<g id="node12" class="node"><title>storfail</title>
<polygon fill="none" stroke="black" points="324.896,-556 133.896,-556 133.896,-503 330.896,-503 330.896,-550 324.896,-556"/>
<polyline fill="none" stroke="black" points="324.896,-556 324.896,-550 "/>
<polyline fill="none" stroke="black" points="330.896,-550 324.896,-550 "/>
<text text-anchor="middle" x="232.396" y="-540.8" font-family="SimHei" font-size="14.00">发射信号</text>
<text text-anchor="middle" x="232.396" y="-525.8" font-family="SimHei" font-size="14.00">uploadFailed 或</text>
<text text-anchor="middle" x="232.396" y="-510.8" font-family="SimHei" font-size="14.00">uploadFailedWithMsg(msg)</text>
</g>
<!-- storfail&#45;&gt;success3 -->
<g id="edge14" class="edge"><title>storfail&#45;&gt;success3</title>
<path fill="none" stroke="black" d="M341.252,-529.5C349.575,-529.5 357.871,-529.5 365.93,-529.5"/>
<polygon fill="black" stroke="black" points="341.1,-526 331.1,-529.5 341.1,-533 341.1,-526"/>
<text text-anchor="middle" x="348.541" y="-536.3" font-family="SimHei" font-size="14.00">No</text>
</g>
<!-- fail3 -->
<g id="node13" class="node"><title>fail3</title>
<ellipse fill="none" stroke="black" cx="49.3956" cy="-529.5" rx="49.2915" ry="18"/>
<text text-anchor="middle" x="49.3956" y="-525.8" font-family="SimHei" font-size="14.00">任务失败</text>
</g>
<!-- fail3&#45;&gt;storfail -->
<g id="edge13" class="edge"><title>fail3&#45;&gt;storfail</title>
<path fill="none" stroke="black" d="M109.088,-529.5C117.295,-529.5 125.502,-529.5 133.709,-529.5"/>
<polygon fill="black" stroke="black" points="109.077,-526 99.0773,-529.5 109.077,-533 109.077,-526"/>
</g>
<!-- transdata -->
<g id="node15" class="node"><title>transdata</title>
<polygon fill="none" stroke="black" points="496.396,-376 390.396,-376 390.396,-340 496.396,-340 496.396,-376"/>
<text text-anchor="middle" x="443.396" y="-354.3" font-family="SimHei" font-size="14.00">上传文件内容</text>
</g>
<!-- startsignal&#45;&gt;transdata -->
<g id="edge12" class="edge"><title>startsignal&#45;&gt;transdata</title>
<path fill="none" stroke="black" d="M443.396,-413.955C443.396,-405.701 443.396,-395.738 443.396,-386.574"/>
<polygon fill="black" stroke="black" points="446.896,-386.335 443.396,-376.335 439.896,-386.335 446.896,-386.335"/>
</g>
<!-- recvafterup -->
<g id="node16" class="node"><title>recvafterup</title>
<polygon fill="none" stroke="black" points="359.896,-288 238.896,-288 238.896,-252 359.896,-252 359.896,-288"/>
<text text-anchor="middle" x="299.396" y="-266.3" font-family="SimHei" font-size="14.00">接收服务器消息</text>
</g>
<!-- transdata&#45;&gt;recvafterup -->
<g id="edge17" class="edge"><title>transdata&#45;&gt;recvafterup</title>
<path fill="none" stroke="black" d="M414.601,-339.803C392.233,-326.444 361.036,-307.813 336.747,-293.307"/>
<polygon fill="black" stroke="black" points="338.52,-290.289 328.14,-288.167 334.931,-296.299 338.52,-290.289"/>
<text text-anchor="middle" x="410.396" y="-309.8" font-family="SimHei" font-size="14.00">上传结束</text>
</g>
<!-- stopup -->
<g id="node21" class="node"><title>stopup</title>
<polygon fill="none" stroke="black" points="584.396,-288 508.396,-288 508.396,-252 584.396,-252 584.396,-288"/>
<text text-anchor="middle" x="546.396" y="-266.3" font-family="SimHei" font-size="14.00">中止上传</text>
</g>
<!-- transdata&#45;&gt;stopup -->
<g id="edge16" class="edge"><title>transdata&#45;&gt;stopup</title>
<path fill="none" stroke="black" d="M464.239,-339.597C479.697,-326.69 500.949,-308.946 517.965,-294.738"/>
<polygon fill="black" stroke="black" points="520.502,-297.18 525.935,-288.084 516.015,-291.807 520.502,-297.18"/>
<text text-anchor="middle" x="545.896" y="-309.8" font-family="SimHei" font-size="14.00">调用 stop()</text>
</g>
<!-- updateper -->
<g id="node23" class="node"><title>updateper</title>
<polygon fill="none" stroke="black" points="817.396,-377 619.396,-377 619.396,-339 823.396,-339 823.396,-371 817.396,-377"/>
<polyline fill="none" stroke="black" points="817.396,-377 817.396,-371 "/>
<polyline fill="none" stroke="black" points="823.396,-371 817.396,-371 "/>
<text text-anchor="middle" x="721.396" y="-361.8" font-family="SimHei" font-size="14.00">发射信号</text>
<text text-anchor="middle" x="721.396" y="-346.8" font-family="SimHei" font-size="14.00">uploadPercentage(percent)</text>
</g>
<!-- transdata&#45;&gt;updateper -->
<g id="edge23" class="edge"><title>transdata&#45;&gt;updateper</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M506.718,-358C537.015,-358 574.212,-358 609.082,-358"/>
<polygon fill="black" stroke="black" points="506.668,-354.5 496.668,-358 506.668,-361.5 506.668,-354.5"/>
<polygon fill="black" stroke="black" points="609.331,-361.5 619.331,-358 609.331,-354.5 609.331,-361.5"/>
<text text-anchor="middle" x="557.896" y="-364.8" font-family="SimHei" font-size="14.00">更新上传百分比</text>
</g>
<!-- success4 -->
<g id="node17" class="node"><title>success4</title>
<polygon fill="none" stroke="black" points="201.396,-206.5 123.977,-188.5 201.396,-170.5 278.815,-188.5 201.396,-206.5"/>
<text text-anchor="middle" x="201.396" y="-184.8" font-family="SimHei" font-size="14.00">上传成功?</text>
</g>
<!-- recvafterup&#45;&gt;success4 -->
<g id="edge18" class="edge"><title>recvafterup&#45;&gt;success4</title>
<path fill="none" stroke="black" d="M278.131,-251.75C262.695,-239.228 241.784,-222.264 225.689,-209.207"/>
<polygon fill="black" stroke="black" points="227.737,-206.362 217.766,-202.78 223.327,-211.798 227.737,-206.362"/>
</g>
<!-- recvafterupfail -->
<g id="node18" class="node"><title>recvafterupfail</title>
<polygon fill="none" stroke="black" points="504.896,-215 313.896,-215 313.896,-162 510.896,-162 510.896,-209 504.896,-215"/>
<polyline fill="none" stroke="black" points="504.896,-215 504.896,-209 "/>
<polyline fill="none" stroke="black" points="510.896,-209 504.896,-209 "/>
<text text-anchor="middle" x="412.396" y="-199.8" font-family="SimHei" font-size="14.00">发射信号</text>
<text text-anchor="middle" x="412.396" y="-184.8" font-family="SimHei" font-size="14.00">uploadFailed 或</text>
<text text-anchor="middle" x="412.396" y="-169.8" font-family="SimHei" font-size="14.00">uploadFailedWithMsg(msg)</text>
</g>
<!-- success4&#45;&gt;recvafterupfail -->
<g id="edge20" class="edge"><title>success4&#45;&gt;recvafterupfail</title>
<path fill="none" stroke="black" d="M278.766,-188.5C286.877,-188.5 295.227,-188.5 303.605,-188.5"/>
<polygon fill="black" stroke="black" points="303.824,-192 313.824,-188.5 303.824,-185 303.824,-192"/>
<text text-anchor="middle" x="296.25" y="-195.3" font-family="SimHei" font-size="14.00">No</text>
</g>
<!-- upsuccess -->
<g id="node19" class="node"><title>upsuccess</title>
<polygon fill="none" stroke="black" points="259.896,-111 136.896,-111 136.896,-73 265.896,-73 265.896,-105 259.896,-111"/>
<polyline fill="none" stroke="black" points="259.896,-111 259.896,-105 "/>
<polyline fill="none" stroke="black" points="265.896,-105 259.896,-105 "/>
<text text-anchor="middle" x="201.396" y="-95.8" font-family="SimHei" font-size="14.00">发射信号</text>
<text text-anchor="middle" x="201.396" y="-80.8" font-family="SimHei" font-size="14.00">uploadSucceeded</text>
</g>
<!-- success4&#45;&gt;upsuccess -->
<g id="edge19" class="edge"><title>success4&#45;&gt;upsuccess</title>
<path fill="none" stroke="black" d="M201.396,-170.167C201.396,-156.573 201.396,-137.367 201.396,-121.516"/>
<polygon fill="black" stroke="black" points="204.896,-121.189 201.396,-111.189 197.896,-121.189 204.896,-121.189"/>
<text text-anchor="middle" x="212.896" y="-132.8" font-family="SimHei" font-size="14.00">Yes</text>
</g>
<!-- fail5 -->
<g id="node26" class="node"><title>fail5</title>
<ellipse fill="none" stroke="black" cx="412.396" cy="-92" rx="49.2915" ry="18"/>
<text text-anchor="middle" x="412.396" y="-88.3" font-family="SimHei" font-size="14.00">任务失败</text>
</g>
<!-- recvafterupfail&#45;&gt;fail5 -->
<g id="edge21" class="edge"><title>recvafterupfail&#45;&gt;fail5</title>
<path fill="none" stroke="black" d="M412.396,-161.677C412.396,-148.869 412.396,-133.396 412.396,-120.382"/>
<polygon fill="black" stroke="black" points="415.896,-120.141 412.396,-110.141 408.896,-120.141 415.896,-120.141"/>
</g>
<!-- end -->
<g id="node20" class="node"><title>end</title>
<ellipse fill="none" stroke="black" cx="201.396" cy="-18" rx="49.2915" ry="18"/>
<text text-anchor="middle" x="201.396" y="-14.3" font-family="SimHei" font-size="14.00">任务成功</text>
</g>
<!-- upsuccess&#45;&gt;end -->
<g id="edge22" class="edge"><title>upsuccess&#45;&gt;end</title>
<path fill="none" stroke="black" d="M201.396,-72.8314C201.396,-64.894 201.396,-55.4095 201.396,-46.6285"/>
<polygon fill="black" stroke="black" points="204.896,-46.4177 201.396,-36.4177 197.896,-46.4177 204.896,-46.4177"/>
</g>
<!-- terminate -->
<g id="node22" class="node"><title>terminate</title>
<ellipse fill="none" stroke="black" cx="578.396" cy="-188.5" rx="49.2915" ry="18"/>
<text text-anchor="middle" x="578.396" y="-184.8" font-family="SimHei" font-size="14.00">任务中止</text>
</g>
<!-- stopup&#45;&gt;terminate -->
<g id="edge15" class="edge"><title>stopup&#45;&gt;terminate</title>
<path fill="none" stroke="black" d="M553.339,-251.75C557.561,-241.261 563.038,-227.655 567.794,-215.839"/>
<polygon fill="black" stroke="black" points="571.088,-217.027 571.576,-206.444 564.595,-214.413 571.088,-217.027"/>
</g>
<!-- fileerror -->
<g id="node24" class="node"><title>fileerror</title>
<polygon fill="none" stroke="black" points="276.396,-377 168.396,-377 168.396,-339 282.396,-339 282.396,-371 276.396,-377"/>
<polyline fill="none" stroke="black" points="276.396,-377 276.396,-371 "/>
<polyline fill="none" stroke="black" points="282.396,-371 276.396,-371 "/>
<text text-anchor="middle" x="225.396" y="-361.8" font-family="SimHei" font-size="14.00">发射信号</text>
<text text-anchor="middle" x="225.396" y="-346.8" font-family="SimHei" font-size="14.00">readFileError</text>
</g>
<!-- fileerror&#45;&gt;transdata -->
<g id="edge25" class="edge"><title>fileerror&#45;&gt;transdata</title>
<path fill="none" stroke="black" d="M293.061,-358C324.351,-358 360.975,-358 390.241,-358"/>
<polygon fill="black" stroke="black" points="292.673,-354.5 282.673,-358 292.673,-361.5 292.673,-354.5"/>
<text text-anchor="middle" x="336.396" y="-364.8" font-family="SimHei" font-size="14.00">读取文件错误</text>
</g>
<!-- fail4 -->
<g id="node25" class="node"><title>fail4</title>
<ellipse fill="none" stroke="black" cx="83.3956" cy="-358" rx="49.2915" ry="18"/>
<text text-anchor="middle" x="83.3956" y="-354.3" font-family="SimHei" font-size="14.00">任务失败</text>
</g>
<!-- fail4&#45;&gt;fileerror -->
<g id="edge24" class="edge"><title>fail4&#45;&gt;fileerror</title>
<path fill="none" stroke="black" d="M143.26,-358C151.638,-358 160.017,-358 168.395,-358"/>
<polygon fill="black" stroke="black" points="143.04,-354.5 133.04,-358 143.04,-361.5 143.04,-354.5"/>
</g>
</g>
</svg>
